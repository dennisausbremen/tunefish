{% extends "layout.html" %}
{% from "_formhelpers.html" import renderDefault %}
{% from "_formhelpers.html" import getField %}
{% from "_formhelpers.html" import getErrors %}
{% from "_formhelpers.html" import renderMessages %}

{% block body %}
<h2>Demo-Songs hochladen</h2>

{{ renderMessages() }}

<h3>Bisher hochgeladen</h3>
{% if tracks %}
<ul>
    {% for track in tracks %}
    <li>
        {{track.trackname}}
        <a href="{{ url_for('bands.tracks.delete', track_id=track.id) }}">[x]</a>
        <audio src="{{track.url}}" controls></audio>

    </li>
    {% endfor %}
</ul>
{% endif %}


<form method="POST" action="{{ url_for('bands.tracks.upload') }}" enctype="multipart/form-data">
    {{ uploadForm.csrf_token }}

    {{ renderDefault(uploadForm.audioFile) }}
    {{ renderDefault(uploadForm.trackname, 'Track') }}

    <input type="submit" value="Song hochladen">
</form>
{% endblock %}
